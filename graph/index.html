<!DOCTYPE html>
<html>
  <head>
    <title>WebSockets Client</title>
    <script src="https://code.jquery.com/jquery-2.1.4.js"></script>
    <script src="http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js"></script>
    <script src="https://hay.github.io/stapes/stapes.min.js"></script>
    <script src="websocket.js"></script>
    <script src="graph.js"></script>
    <script src="aggregate.js"></script>
    <link href="style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="graph" style="float: left"></div>
    <table id="data" border=1  style="float: right"></table>
  </body>
</html>

<script>
  $(function() {
    var graph = new Graph();
    var aggregate = new Aggregate();

    var websocket = new Websocket();
    websocket.connect();

    websocket.on('event', function(data){
      graph.handleEvent(data);
      aggregate.handleEvent(data);
    });
  });
</script>
